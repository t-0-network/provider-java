// Specification Copyright (c) 2020 Joint Working Group on interVASP Messaging Standards
// https://intervasp.org/
// https://intervasp.org/wp-content/uploads/2020/05/IVMS101-interVASP-data-model-standard-issue-1-FINAL.pdf

// Protocol Buffer Specification Copyright (c) 2020 CipherTrace, Inc. https://ciphertrace.com

// Licensed under MIT License

syntax = "proto3";

package ivms101;

option java_multiple_files = true;
option java_package = "network.t0.sdk.proto.ivms101";

import "ivms101/v1/ivms/enum.proto";

/***************************************************
 * Data Types Components
 ***************************************************/

message Person {

  oneof person {
    // Definition: a uniquely distinguishable individual; one single person.
    NaturalPerson natural_person = 1;

    // Definition: any entity other than a natural person that can establish a
    // permanent customer relationship with an affected entity or otherwise own
    // property.
    LegalPerson legal_person = 2;
  }

}

// Definition: refers to a uniquely distinguishable individual; one single person
message NaturalPerson {

  // Definition: the distinct words used as identification for an individual.
  NaturalPersonName name = 1;

  // Definition: the particulars of a location at which a person may be communicated with.
  repeated Address geographic_addresses = 2 [json_name = "geographicAddress"];

  // Definition: a distinct identifier used by governments of countries to uniquely
  // identify a natural or legal person.
  NationalIdentification national_identification = 3;

  // Definition: a distinct identifier that uniquely identifies the person to the
  // institution in context.
  string customer_identification = 4;

  // Definition: date and place of birth of a person.
  DateAndPlaceOfBirth date_and_place_of_birth = 5;

  // Definition: country in which a person resides (the place of a person's home).
  string country_of_residence = 6;
}

message NaturalPersonName {

  // At least one occurrence of naturalPersonNameID must have the value 'LEGL'
  // specified in the element naturalPersonNameIdentifierType.
  repeated NaturalPersonNameId name_identifiers = 1 [json_name = "nameIdentifier"];

  // Definition: full name separated into primary and secondary identifier using
  // local characters.
  repeated LocalNaturalPersonNameId local_name_identifiers = 2 [json_name = "localNameIdentifier"];

  // Definition: Alternate representation of a name that corresponds to the manner
  // the name is pronounced.
  repeated LocalNaturalPersonNameId phonetic_name_identifiers = 3 [json_name = "phoneticNameIdentifier"];
}

message NaturalPersonNameId {

  // Definition: This may be the family name, the maiden name or the married name,
  // the main name, the surname, and in some cases, the entire name where the natural
  // person's name cannot be divided into two parts.
  string primary_identifier = 1;

  // Definition: These may be the forenames, familiar names, given names, initials,
  // prefixes, suffixes or Roman numerals or any other secondary names.
  string secondary_identifier = 2;

  // Definition: The nature of the name specified.
  NaturalPersonNameTypeCode name_identifier_type = 3;
}

message LocalNaturalPersonNameId {

  string primary_identifier = 1;
  string secondary_identifier = 2;
  NaturalPersonNameTypeCode name_identifier_type = 3;
}

message Address {

  // Definition: Identifies the nature of the address.
  AddressTypeCode address_type = 1;

  // Definition: Identification of a division of a large organisation or building.
  string department = 2;

  // Definition: Identification of a sub-division of a large organisation or building.
  string sub_department = 3;

  // Definition: Name of a street or thoroughfare.
  string street_name = 4;

  // Definition: Number that identifies the position of a building on a street.
  string building_number = 5;

  // Definition: Name of the building or house.
  string building_name = 6;

  // Definition: Floor or storey within a building.
  string floor = 7;

  // Definition: Numbered box in a post office.
  string post_box = 8;

  // Definition: Building room number.
  string room = 9;

  // Definition: Postal code.
  string post_code = 10;

  // Definition: Name of a built-up area.
  string town_name = 11;

  // Definition: Specific location name within the town.
  string town_location_name = 12;

  // Definition: Identifies a subdivision within a country subdivision.
  string district_name = 13;

  // Definition: Identifies a subdivision of a country.
  string country_sub_division = 14;

  // Definition: Information that locates and identifies a specific address.
  repeated string address_line = 15 [json_name = "addressLine"];

  // Country code (ISO-3166-1 alpha-2 or "XX")
  string country = 16;
}

message DateAndPlaceOfBirth {

  // Definition: Date on which a person is born. Format: YYYY-MM-DD
  string date_of_birth = 1;

  // Definition: The town and/or the city and/or the suburb and/or the country
  // subdivision and/or the country where the person was born.
  string place_of_birth = 2;
}

message NationalIdentification {

  // Definition: An identifier issued by an appropriate issuing authority.
  string national_identifier = 1;

  // Definition: Specifies the type of identifier specified.
  NationalIdentifierTypeCode national_identifier_type = 2;

  // Definition: Country of the issuing authority.
  string country_of_issue = 3;

  // Definition: A code specifying the registration authority.
  string registration_authority = 4;
}

// Definition: refers to any entity other than a natural person that can establish a
// permanent customer relationship with an affected entity or otherwise own property.
message LegalPerson {

  // Definition: The name of the legal person.
  LegalPersonName name = 1;

  // Definition: The address of the legal person.
  repeated Address geographic_addresses = 2 [json_name = "geographicAddress"];

  // Definition: The unique identification number applied by the VASP to customer.
  string customer_number = 3;

  // Definition: A distinct identifier used by governments of countries to uniquely
  // identify a natural or legal person.
  NationalIdentification national_identification = 4;

  // Definition: The country in which the legal person is registered.
  string country_of_registration = 5;
}

message LegalPersonName {

  // Definition: The name and type of name by which the legal person is known.
  repeated LegalPersonNameId name_identifiers = 1 [json_name = "nameIdentifier"];

  // Definition: The name and type of name by which the legal person is known using
  // local characters.
  repeated LocalLegalPersonNameId local_name_identifiers = 2 [json_name = "localNameIdentifier"];

  // Definition: The name and type of name by which the legal person is known using
  // local characters.
  repeated LocalLegalPersonNameId phonetic_name_identifiers = 3 [json_name = "phoneticNameIdentifier"];
}

message LegalPersonNameId {

  // Definition: Name by which the legal person is known.
  string legal_person_name = 1;

  // Definition: The nature of the name specified.
  LegalPersonNameTypeCode legal_person_name_identifier_type = 2;
}

message LocalLegalPersonNameId {

  // Definition: Name by which the legal person is known.
  string legal_person_name = 1;

  // Definition: The nature of the name specified.
  LegalPersonNameTypeCode legal_person_name_identifier_type = 2;
}
